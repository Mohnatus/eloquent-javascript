# Document Object Model

## Атрибуты

В качестве простого примера мы напишем подсветку синтаксиса, который ищет теги ```<pre>```(preformatted, предварительно отформатированный – используется для кода и простого текста) с атрибутом ```data-language``` (язык) и довольно грубо пытается подсветить ключевые слова в языке.

**[highlight.js](./highlight.js)**

## Расположение и анимация

**[Движение по эллипсу](./ellipse.html)**

Скрипт использует ```requestAnimationFrame``` для вызова функции animate каждый раз, когда браузер готов перерисовывать экран. Функция animate сама опять вызывает ```requestAnimationFrame```, чтобы запланировать следующее обновление. Когда окно браузера (или закладка) активна, это приведёт к обновлениям со скорость примерно 60 раз в секунду, что позволяет добиться хорошо выглядящей анимации.

Если бы мы просто обновляли DOM в цикле, страница бы зависла и ничего не было бы видно. Браузеры не обновляют страницу во время работы JavaScript, и не допускают в это время работы со страницей. Поэтому нам нужна ```requestAnimationFrame``` – она сообщает браузеру, что мы пока закончили, и он может заниматься своими браузерными вещами, например обновлять экран и отвечать на запросы пользователя.

## Использование синуса и косинуса для вычисления координат

Стиль ```top``` подсчитывается через ```Math.sin``` и умножается на ```20``` – это вертикальный радиус нашего эллипса. Стиль ```left``` считается через ```Math.cos``` и умножается на ```200```, так что ширина эллипса сильно больше высоты.

## Упражнения

### [Строим таблицу](./table.html)

Напишите функцию buildTable, которая, принимая массив объектов с одинаковыми свойствами, строит структуру DOM, представляющую таблицу. У таблицы должна быть строка с заголовками, где имена свойств обёрнуты в элементы ```<th>```, и должно быть по одной строчке на объект из массива, где его свойства обёрнуты в элементы ```<td>```. Здесь пригодится функция ```Object.keys```, возвращающая массив, содержащий имена свойств объекта.

Когда вы разберётесь с основами, выровняйте ячейки с числами по правому краю, изменив их свойство ```style.textAlign``` на ```right```.

### [Элементы по имени тегов](./tags.html)

Метод ```getElementsByTagName``` возвращает все дочерние элементы с заданным именем тега. Сделайте свою версию этого метода в виде обычной функции, которая принимает узел и строчку (имя тега) и возвращает массив, содержащий все нисходящие узлы с заданным именем тега.

Чтобы выяснить имя тега элемента, используйте свойство ```tagName```. Заметьте, что оно возвратит имя тега в верхнем регистре. Используйте методы строк ```toLowerCase``` или ```toUpperCase```.